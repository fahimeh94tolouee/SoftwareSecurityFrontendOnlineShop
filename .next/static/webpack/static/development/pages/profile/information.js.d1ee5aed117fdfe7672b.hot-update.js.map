{"version":3,"file":"static/webpack/static/development/pages/profile/information.js.d1ee5aed117fdfe7672b.hot-update.js","sources":["webpack:///./components/loadings/spinner.js","webpack:///./pages/profile/information.js","webpack:///./styled_components/button.js","webpack:///./styled_components/loading/spinner.js"],"sourcesContent":["import React from \"react\";\nimport { SpinnerContainer } from \"../../styled_components/loading/spinner\";\n\nexport const Spinner = props => {\n  return (\n    <SpinnerContainer\n      color={props.color}\n      borderless={props.borderless}\n      btn={props.btn}\n      type={props.type}\n      size={props.size}\n    >\n      <div className=\"loader\" />\n    </SpinnerContainer>\n  );\n};\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport validator from \"validator\";\nimport { TitleBox } from \"../../styled_components/profile\";\nimport { updateInformation } from \"../../actions/user\";\nimport { InforamtionBox } from \"../../styled_components/profile/information\";\nimport { Row, Col } from \"styled-bootstrap-grid\";\nimport CheckBox from \"../../components/lib/checkbox\";\nimport Request from \"../../utilities/request\";\nimport {UserAction} from \"../../actions\";\nimport {Spinner} from \"../../components/loadings/spinner\";\nimport {Loading} from \"../../styled_components/button\";\nclass Information extends Component {\n  static async getInitialProps({ store, query }) {}\n\n  constructor(props) {\n    super(props);\n    this.state = { data: this.props.userData.data };\n  }\n  componentDidMount() {\n    // this.props.getInformation();\n    // this.getLocation(\"provinces\", 1);\n  }\n  getLocation(type, id) {\n    Request({\n      method: \"get\",\n      url: process.env.apiUrl + \"/admin/locations/\" + id + \"/children\"\n    })\n      .then(response => {\n        this.setState({\n          [type]: response.data.data\n        });\n      })\n      .catch(error => {});\n  }\n  static getDerivedStateFromProps(nextProps, prevState) {\n    let result = {};\n    if (nextProps.userData.data !== prevState.data) {\n      result.data = nextProps.userData.data;\n    }\n    return result;\n  }\n  handelChange(value, name) {\n    let data = this.state.data;\n    data[name] = value;\n    this.setState({\n      data: data\n    });\n  }\n  handelCheckBox(name) {\n    let data = this.state.data;\n    data[name] = !data[name];\n    this.setState({\n      data: data\n    });\n  }\n\n  submit() {\n    this.props.updateInformation(this.state.data);\n  }\n  actionBox() {\n    const{processing}=this.props.userData;\n    return (\n      <div className=\"action-box\">\n        <div className=\"submit\" onClick={this.submit.bind(this)}>\n          {processing?\n            <Loading show={true}>\n              <Spinner />\n            </Loading>\n            :\"Save\"}\n        </div>\n        <div className=\"cancel\">Cancel</div>\n      </div>\n    );\n  }\n  formView() {\n    let data = this.state.data;\n    if (typeof data !== \"undefined\") {\n      return (\n        <form>\n          <div className=\"form-box\">\n            <Row>\n              <Col col={6}>\n                <div className=\"title\">Personal Information</div>\n                <label>First Name</label>\n                <input\n                  type=\"text\"\n                  value={data.first_name}\n                  onChange={e => {\n                    this.handelChange(e.target.value, \"first_name\");\n                  }}\n                />\n                <label>Last Name</label>\n                <input\n                  type=\"text\"\n                  value={data.last_name}\n                  onChange={e => {\n                    this.handelChange(e.target.value,  \"last_name\");\n                  }}\n                />\n                <label>Email</label>\n                <input\n                  type=\"text\"\n                  value={data.email}\n                  disabled={true}\n                />\n                <label>Credit Card</label>\n                <input\n                  type=\"number\"\n                  value={data.credit_card}\n                  onChange={e => {\n                    this.handelChange(\n                      e.target.value,\n                      \"credit_card\"\n                    );\n                  }}\n                />\n              </Col>\n              <Col col={6}>\n                <div className=\"title\">Contact Information</div>\n                <label>Phone Number</label>\n                <input\n                  type=\"number\"\n                  value={data.phone_number}\n                  onChange={e => {\n                    this.handelChange(e.target.value, \"phone_number\");\n                  }}\n                />\n                <label>Address</label>\n                <input\n                  type=\"text\"\n                  value={data.address}\n                  onChange={e => {\n                    this.handelChange(e.target.value, \"address\");\n                  }}\n                />\n                <label>Postal Code</label>\n                <input\n                  type=\"text\"\n                  value={data.postal_code}\n                  onChange={e => {\n                    this.handelChange(e.target.value,  \"postal_code\");\n                  }}\n                />\n                <div\n                  onClick={() => {\n                    this.handelCheckBox(\"subscribe_newsletter\");\n                  }}\n                >\n                  <CheckBox\n                    title=\"Subscribe to Maleno Newsletter\"\n                    status={data.subscribe_newsletter}\n                  />\n                </div>\n              </Col>\n            </Row>\n          </div>\n          {this.actionBox()}\n\n        </form>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <TitleBox>Edit Personal Information</TitleBox>\n        <InforamtionBox>{this.formView()}</InforamtionBox>\n      </React.Fragment>\n    );\n  }\n}\nconst mapStateToProps = store => {\n  return {\n    userData: store.User\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    getInformation: () => {\n      dispatch(UserAction.getInfo());\n    },\n    updateInformation: data => {\n      dispatch(UserAction.updateInfo(data));\n    }\n  };\n};\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Information);\n","import styled from \"styled-components\";\nimport Variables, { transition } from \"./variables\";\n\nexport const Box = styled.div`\n  box-shadow: 0 0 12px 0 rgba(0, 0, 0, 0.16);\n  width: 100%;\n  margin: 8px 0;\n  button{\n    position: relative;\n    border-radius: 8px;\n    border: 0;\n    background-color: ${Variables.colors.windows_blue};\n    width: 100%;\n    color: ${Variables.colors.white};\n    line-height: 42px;\n    text-align: center;\n    cursor: pointer;\n    ${transition(0.2)}\n    &:hover {\n      background-color: ${Variables.colors.cool_blue};\n    }\n    &:disabled{\n      background-color: ${Variables.colors.grey_light};\n      color:${Variables.colors.white};\n      cursor:not-allowed;\n      &:hover{\n          box-shadow: none;\n      }\n    }\n  }\n`\nexport const Loading = styled.div`\n  visibility: ${props => (props.show ? \"visible\" : \"hidden\")};\n  position: absolute;\n  right: calc(50% - 9px);\n  top: calc(50% - 9px);\n`;\nexport const Children = styled.div`\n  visibility: ${props => (props.show ? \"visible\" : \"hidden\")};\n  display: inline-flex;\n  align-items: center;\n`;\n","import styled from \"styled-components\";\nimport Variables from \"../variables\";\n\n\nconst TYPES = {\n  primary: {main : Variables.colors.dark_white, second: Variables.colors.menu_border},\n  // primary_blue: {main : Variables.colors.tertiary_400, second: Variables.colors.complementary},\n  // secondary: {main:Variables.colors.complementary_700 ,second: Variables.colors.complementary_500},\n};\nexport const SpinnerContainer = styled.div`\n  .loader,\n  .loader:after {\n    border-radius: 50%;\n    width: ${props => props.size=== \"small\" ? \"1em\": \"1.8em\"};\n    height: ${props => props.size=== \"small\" ? \"1em\": \"1.8em\"};\n  }\n  .loader {\n    margin: 0px auto;\n    font-size: 10px;\n    position: relative;\n    text-indent: -9999em;\n    border-top: ${props => props.type ? \"0.3em solid \" + TYPES[props.type].main : \"0.3em solid \" +  Variables.colors.dark_white};\n    border-right: ${props => props.type  ? \"0.3em solid \" + TYPES[props.type].main : \"0.3em solid \" + Variables.colors.dark_white};\n    border-bottom:${props => props.type  ? \"0.3em solid \" + TYPES[props.type].main : \"0.3em solid \" + Variables.colors.dark_white};\n    border-left: ${props => props.type  ? \"0.3em solid \" + TYPES[props.type].second : \"0.3em solid \" + Variables.colors.menu_border};\n    border-width: ${props => props.size=== \"small\" ? \"0.2em\": \"0.3em\"};;\n    -webkit-transform: translateZ(0);\n    -ms-transform: translateZ(0);\n    transform: translateZ(0);\n    -webkit-animation: load8 1.1s infinite linear;\n    animation: load8 1.1s infinite linear;\n  }\n  @-webkit-keyframes load8 {\n    0% {\n      -webkit-transform: rotate(0deg);\n      transform: rotate(0deg);\n    }\n    100% {\n      -webkit-transform: rotate(360deg);\n      transform: rotate(360deg);\n    }\n  }\n  @keyframes load8 {\n    0% {\n      -webkit-transform: rotate(0deg);\n      transform: rotate(0deg);\n    }\n    100% {\n      -webkit-transform: rotate(360deg);\n      transform: rotate(360deg);\n    }\n  }\n`;"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AALA;AAOA;AAAA;AAGA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;;;;;;;;;AACA;AACA;;;;;;;;;;;;;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAAA;AAAA;AAFA;AAGA;AACA;;;AAAA;AAEA;AACA;;;AACA;AAAA;AACA;AAAA;AACA;AACA;AAFA;AAKA;AAGA;AAEA;;;AAQA;AACA;AACA;AACA;AACA;AADA;AAGA;;;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;;;AACA;AAAA;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AAKA;AAAA;AAGA;;;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAEA;AAAA;AAEA;AAAA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AALA;AASA;AACA;AACA;AACA;AACA;AALA;AASA;AACA;AACA;AAHA;AAOA;AACA;AACA;AACA;AAIA;AARA;AAWA;AAAA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AALA;AASA;AACA;AACA;AACA;AACA;AALA;AASA;AACA;AACA;AACA;AACA;AALA;AAQA;AACA;AACA;AAHA;AAMA;AACA;AAFA;AAYA;AACA;;;AAEA;AACA;AAMA;;;AAxIA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;;;;AA7BA;AACA;AAgKA;AACA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AAAA;;;;;;;;;;;;AC5LA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AA4BA;AAAA;AAAA;AAAA;AACA;AAAA;AAKA;AAAA;AAAA;AAAA;AACA;AAAA;;;;;;;;;;;;ACtCA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAJA;AAKA;AAAA;AAAA;AAAA;AAIA;AAAA;AACA;AAAA;AAOA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;;;;A","sourceRoot":""}