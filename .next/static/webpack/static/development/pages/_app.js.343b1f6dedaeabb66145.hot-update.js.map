{"version":3,"file":"static/webpack/static/development/pages/_app.js.343b1f6dedaeabb66145.hot-update.js","sources":["webpack:///./actions/question.js","webpack:///./api/question.js","webpack:///./constants/api.js","webpack:///./sagas/question.js"],"sourcesContent":["import Request from '../utilities/request';\nimport * as types from \"../actions/actionTypes\";\nexport const setQuestion = data => ({\n  type: \"SET_QUESTION\",\n  payload: data\n});\n\nexport const getListRequest = (productId) => {\n  return {\n    type: types.QUESTION_LIST_REQUEST,\n    productId: productId\n  };\n};\nexport const getListSuccess = data => {\n  return {\n    type: types.QUESTION_LIST_SUCCESS,\n    payLoad: data\n  };\n};\nexport const getListFailure = (error) => {\n  return {\n    type: types.QUESTION_LIST_FAILURE,\n    error: error\n  };\n};\n\nexport const storeRequest = (productId, data) => {\n  return {\n    type: types.QUESTION_STORE_REQUEST,\n    productId: productId,\n    data: data\n  };\n};\nexport const storeSuccess = () => {\n  return {\n    type: types.QUESTION_STORE_SUCCESS,\n  };\n};\nexport const storeFailure = () => {\n  return {\n    type: types.QUESTION_STORE_FAILURE\n  };\n};\n\nexport const updateRequest = (productId, id, data) => {\n  return {\n    type: types.QUESTION_UPDATE_REQUEST,\n    productId: productId,\n    id: id,\n    data: data\n  };\n};\nexport const updateSuccess = () => {\n  return {\n    type: types.QUESTION_UPDATE_SUCCESS,\n  };\n};\nexport const updateFailure = () => {\n  return {\n    type: types.QUESTION_UPDATE_FAILURE\n  };\n};\n\nexport const getQuestion = (id, params = {}) => {\n  return async dispatch => {\n    dispatch(\n      setQuestion({\n        loading: true\n      })\n    );\n    await Request({\n      url: process.env.apiUrl + \"/products/\" + id + \"/questions\",\n      method: \"get\",\n      params: params\n    })\n      .then(response => {\n        dispatch(\n          setQuestion({\n            loading: false,\n            data: response.data.data,\n            meta: response.data.meta,\n            cache: true\n          })\n        );\n      })\n      .catch(error => {});\n  };\n};\n","import Request from \"../utilities/request\";\nimport {PRODUCT_API, QUESTION_API, QUESTION_LIST_API} from \"../constants/api\";\n\nconst baseUrl = process.env.apiUrl;\n\nexport const getList = (productId) => {\n  return Request({\n    method: \"get\",\n    url: `${baseUrl}${PRODUCT_API}${productId}${QUESTION_LIST_API}`,\n    needToken: true\n  });\n};\n\nexport const store = (productId, data) => {\n  return Request({\n    method: \"post\",\n    url: `${baseUrl}${PRODUCT_API}${productId}${QUESTION_API}`,\n    needToken: true,\n    data: data\n  });\n};\n\nexport const update = (productId, id, data) => {\n  return Request({\n    method: \"put\",\n    url: `${baseUrl}${PRODUCT_API}${productId}${QUESTION_API}${id}/`,\n    needToken: true,\n    data: data\n  });\n};\n","export const AUTH_LOGIN_API = \"/auth/login/\"\nexport const AUTH_REGISTER_API = \"/auth/register/\"\nexport const AUTH_VERIFY_API = \"/auth/verify/\"\nexport const AUTH_RESET_PASSWORD_API = \"resetPassword\"\nexport const AUTH_CHECK_REFERENCE_CODE_API = \"checkReferenceCode\"\nexport const AUTH_RESEND_OTP_API = \"resendOtp\"\n\nexport const USER_API = \"/user/\"\nexport const UPDATE_INFO_API = \"updateInfo/\"\nexport const CHANGE_PASSWORD_API = \"changePassword/\"\n\nexport const PRODUCT_API = \"/product/\"\nexport const LIST_API = \"list/\"\n\nexport const QUESTION_API = `/question`\nexport const QUESTION_LIST_API = `${QUESTION_API}-${LIST_API}`\n","import { call, put, takeLatest } from \"redux-saga/effects\";\nimport * as types from \"../actions/actionTypes\";\nimport { QuestionAction } from \"../actions\";\nimport * as questionApi from \"../api/question\";\nimport { toastr } from \"react-redux-toastr\";\nimport { SetMessage } from \"../utilities/specifics/errorMessages\";\n\nexport function* watcherQuestion() {\n  yield takeLatest(types.QUESTION_LIST_REQUEST, list);\n  yield takeLatest(types.QUESTION_STORE_REQUEST, store);\n  yield takeLatest(types.QUESTION_UPDATE_REQUEST, update);\n}\n\nfunction getList(productId) {\n  return questionApi.getList(productId);\n}\n\nfunction* list(action) {\n  try {\n    const response = yield call(getList, action.productId);\n    yield put(QuestionAction.getListSuccess(response.data.data));\n  } catch (error) {\n    const message = SetMessage(error);\n    yield put(QuestionAction.getListFailure(message));\n  }\n}\n\nfunction storeReq(productId, data) {\n  return questionApi.store(productId, data);\n}\n\nfunction* store(action) {\n  try {\n    const response = yield call(storeReq, action.productId, action.data);\n    const data = response.data;\n    data.message.forEach(message => {\n      toastr.success(\" \", message.toString());\n    });\n    const listResponse = yield call(getList);\n    yield put(QuestionAction.storeSuccess());\n    yield put(QuestionAction.getListSuccess(listResponse.data.data));\n  } catch (error) {\n    SetMessage(error, true);\n    yield put(QuestionAction.storeFailure());\n  }\n}\n\nfunction updateReq(productId, id, data) {\n  return questionApi.update(productId, id, data);\n}\n\nfunction* update(action) {\n  try {\n    const response = yield call(updateReq, action.productId, action.id, action.data);\n    const data = response.data;\n    data.message.forEach(message => {\n      toastr.success(\" \", message.toString());\n    });\n    const listResponse = yield call(getList);\n    yield put(QuestionAction.updateSuccess());\n    yield put(QuestionAction.getListSuccess(listResponse.data.data));\n  } catch (error) {\n    SetMessage(error, true);\n    yield put(QuestionAction.updateFailure());\n  }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAAA;AACA;AACA;AAFA;AAAA;AAKA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AADA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AADA;AAGA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AADA;AAFA;AAAA;AAOA;AACA;AACA;AAHA;AAMA;AAEA;AACA;AACA;AACA;AAJA;AAOA;AACA;AArBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAuBA;;;;;;;;;;;;ACvFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAHA;AAKA;AAEA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AAEA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;;;;;;;;;;;;AC7BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;ACRA;;;AAUA;;;AAcA;;;AAoBA;AACA;AApDA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAEA;AACA;AAHA;AAAA;AAGA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAKA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAHA;AAEA;AAFA;AAGA;AACA;AAJA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAKA;AALA;AAMA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AASA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAHA;AAEA;AACA;AACA;AACA;AACA;AANA;AAOA;AACA;AARA;AAOA;AAPA;AAQA;AACA;AATA;AAAA;AASA;AACA;AAVA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAWA;AAXA;AAYA;AACA;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAeA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAHA;AAEA;AACA;AACA;AACA;AACA;AANA;AAOA;AACA;AARA;AAOA;AAPA;AAQA;AACA;AATA;AAAA;AASA;AACA;AAVA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAWA;AAXA;AAYA;AACA;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;A","sourceRoot":""}