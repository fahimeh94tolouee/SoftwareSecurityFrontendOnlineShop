{"version":3,"file":"static/webpack/static/development/pages/product.js.694c35311f96e5672cd9.hot-update.js","sources":["webpack:///./components/product/topSection.js"],"sourcesContent":["import React, {useRef, useState} from \"react\";\nimport {\n  Images,\n  Details,\n  Actions\n} from \"../../styled_components/product/topSection\";\nimport ReactImageMagnify from \"react-image-magnify\";\nimport Rating from \"./topSection/rating\";\nimport OfferRibbon from \"./topSection/offerRibbon\";\nimport Features from \"./topSection/features\";\nimport VariationDetail from \"./topSection/variationDetail\";\nimport Carousel from \"./carousel\";\nimport Router from \"next/router\";\nconst TopSection = props => {\n  // const product = props.product.data;\n  const product = props.product;\n  console.log(product, \"dddd\");\n  // const variations = props.product.variations;\n  // const variation = props.product.variations[0];\n  const variation = null;\n  const [carouselStatus, setCarouselStatus] = useState(false);\n  const [initialState, setInitialState] = useState(0);\n  const cartButs = () => {\n    if (variation === undefined) {\n      return (\n        <div className=\"notice\">\n          <span>موجود شد به من اطلاع بده</span>\n        </div>\n      );\n    } else {\n      return (\n        <React.Fragment>\n          <div\n            className=\"add-to-cart\"\n            onClick={() => {\n              props.addToCart(variation.id, 1);\n            }}\n          >\n            <span>افزودن به سبد خرید</span>\n          </div>\n          <div className=\"wish\">\n            <i className=\"icon-good\" />\n          </div>\n        </React.Fragment>\n      );\n    }\n  };\n  console.log(props);\n  return (\n    <React.Fragment>\n      <Images containerWidth={props.containerWidth}>\n        {/*<OfferRibbon variation={variation} />*/}\n        <ReactImageMagnify\n          className=\"zoom\"\n          enlargedImageContainerClassName=\"enlarged\"\n          {...{\n            smallImage: {\n              alt: product.title,\n              isFluidWidth: true,\n              src: `${process.env.apiUrl}/${product.image_path}`\n            },\n            largeImage: {\n              src: `${process.env.apiUrl}/${product.image_path}`,\n              width: 1200,\n              height: 1200\n            }\n          }}\n        />\n      </Images>\n      <Details>\n        <div className=\"title\">\n          <div className=\"right\">\n            <h1>{product.title}</h1>\n          </div>\n          <div className=\"left\">\n            <div className=\"ribbon\">\n              <span>{product.category}</span>\n            </div>\n            {/*<div className=\"icon\">*/}\n            {/*  <img src={product.category} alt={product.category.name} />*/}\n            {/*</div>*/}\n          </div>\n        </div>\n        <div className=\"rate\">\n          <div className=\"right\">\n            <Rating\n              // rate={product.rating}\n              rate={5}\n              // amount={product.number_of_rating_votes}\n              amount={40}\n            />\n          </div>\n          {/*<div className=\"left\">برند: {product.brand.name}</div>*/}\n        </div>\n        <div className=\"variations\">\n          <div className=\"right\">\n            {/*<VariationDetail*/}\n            {/*  status={variations.length}*/}\n            {/*  variation={variation}*/}\n            {/*  switchType={product.category.type}*/}\n            {/*  switches={props.product.meta.switches}*/}\n            {/*  variationChange={props.variationChange.bind(this)}*/}\n            {/*/>*/}\n          </div>\n          <div className=\"left\">\n            {/*<Features items={product.product_data} />*/}\n          </div>\n        </div>\n        <div className=\"slogans\">\n          <div className=\"right\">\n            <i className=\"baseicon-shield\" />\n            سرویس ویژه خدمات مال نو : ۷ روز ضمانت تعویض کالا\n          </div>\n          <div className=\"left\">\n            <a href=\"#\" target=\"_blank\">\n              محصول خود را در مال‌نو بفروشید\n            </a>\n          </div>\n        </div>\n      </Details>\n      <Actions>\n        <div className=\"images-but\">\n          <div className=\"box\">\n            <div\n              className=\"more\"\n              onClick={() => {\n                setCarouselStatus(true);\n              }}\n            >\n              ...\n            </div>\n            {/*{product.images.map((img, key) => (*/}\n            {/*  <img*/}\n            {/*    src={img.path}*/}\n            {/*    alt={product.name}*/}\n            {/*    key={key}*/}\n            {/*    onClick={() => {*/}\n            {/*      setCarouselStatus(true);*/}\n            {/*      setInitialState(key);*/}\n            {/*    }}*/}\n            {/*  />*/}\n            {/*))}*/}\n          </div>\n        </div>\n        <div className=\"buts\">\n          <div className=\"right\">{cartButs()}</div>\n          <div className=\"left\">\n            <ul>\n              {/*<li*/}\n              {/*  className=\"compare\"*/}\n              {/*  onClick={() => {*/}\n              {/*    Router.replace(*/}\n              {/*      \"/compare/\" +*/}\n              {/*        props.product.data.category_id +*/}\n              {/*        \"/\" +*/}\n              {/*        props.product.data.id*/}\n              {/*    );*/}\n              {/*  }}*/}\n              {/*>*/}\n              {/*  <i className=\"icon-law\" />*/}\n              {/*</li>*/}\n              <li className=\"notice\">\n                <i className=\"icon-bell\" />\n              </li>\n              <li className=\"share\">\n                <i className=\"icon-social-media\" />\n              </li>\n            </ul>\n          </div>\n        </div>\n      </Actions>\n      {/*{(() => {*/}\n      {/*  if (carouselStatus) {*/}\n      {/*    return (*/}\n      {/*      <Carousel*/}\n      {/*        images={product.images}*/}\n      {/*        initialState={initialState}*/}\n      {/*        slideChange={value => {*/}\n      {/*          setInitialState(value);*/}\n      {/*        }}*/}\n      {/*        close={() => {*/}\n      {/*          setCarouselStatus(false);*/}\n      {/*        }}*/}\n      {/*      />*/}\n      {/*    );*/}\n      {/*  }*/}\n      {/*})()}*/}\n    </React.Fragment>\n  );\n};\nexport default TopSection;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AAPA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAQA;AACA;AACA;AACA;AAAA;AAIA;AACA;AAGA;AACA;AACA;AACA;AAJA;AAQA;AAAA;AACA;AAAA;AAIA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAGA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAHA;AANA;AAeA;AAAA;AACA;AAAA;AAGA;AAAA;AACA;AAAA;AAQA;AAAA;AACA;AAAA;AACA;AAEA;AAFA;AAIA;AAJA;AASA;AAAA;AACA;AAAA;AASA;AAAA;AAIA;AAAA;AACA;AAAA;AACA;AAAA;AAGA;AAAA;AACA;AAAA;AAAA;AAOA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAqBA;AAAA;AACA;AAAA;AACA;AAAA;AAeA;AAAA;AACA;AAAA;AAEA;AAAA;AACA;AAAA;AAwBA;AACA;AAAA;;;;A","sourceRoot":""}